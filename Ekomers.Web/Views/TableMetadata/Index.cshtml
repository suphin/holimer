@model TableMetadataVM
@{
	ViewData["Title"] = "Dinamik Tablo Kayıt Sistemi";
	ViewData["Mudurluk"] = "Yazılım Servisi - Tanımlamar";
}
@section CSSection {
	<!--begin::Page Vendors Styles(used by this page)-->
	<link href="~/assets1/plugins/custom/datatables/datatables.bundle.css?v=7.0.5" rel="stylesheet" type="text/css" />
	<!--end::Page Vendors Styles-->
}

<!--begin::Notice-->
@{
	await Html.RenderPartialAsync("_PartialNotice",
	new NoticeVM { Baslik = "Dinamik Tablo", Aciklama = "Dinamik Tablo Bilgi Girişi" });
}
<!--end::Notice-->
<br />
<div class="card shadow">
	<div class="card-header">
		Arama Seçenekleri
	</div>
	<div class="card-body">
		<div class="table-responsive">
			<form asp-action="Index" asp-controller="ItfaiyeEgitim" method="post" name="VeriFiltre" id="VeriFiltre">
				<table class="table table-bordered table-sm TableSmallFont" width="100%" cellspacing="0">
					<tr>
					@* 	<td>
							<div class="form-group">
								<label class="control-label">Genel Arama</label>
								<input asp-for="Aciklama" class="form-control form-control-sm" />
							</div>
						</td>
						<td>
							<div class="form-group">
								<label asp-for="Egitmen" class="control-label"></label>
								<select asp-for="EgitmenID" class="kt_select2" data-live-search="true" data-size="5" asp-items="@ViewBag.EgitmenListe" id="EgitmenListe"></select>
							</div>
						</td>
						<td>
							<div class="form-group">
								<label asp-for="EgitimTuru" class="control-label"></label>
								<select asp-for="EgitimTuruID" class="kt_select2" data-live-search="true" data-size="5" asp-items="@ViewBag.EgitimTuruListe" id="EgitimTuruListe"></select>
							</div>
						</td>
						<td>
							<div class="form-group">
								<label asp-for="KurumTuru" class="control-label"></label>
								<select asp-for="KurumTuruID" class="kt_select2" data-live-search="true" data-size="5" asp-items="@ViewBag.EgitimKurumTuruListe" id="EgitimKurumTuruListe"></select>

							</div>
						</td> *@
						<td>
							<div class="form-group">
								<label class="control-label">&nbsp;</label>
								<button type="submit" class="btn btn-primary form-control btn-sm">Ara</button>

							</div>
						</td>
					</tr>
				</table>
			</form>
		</div>
	</div>
</div>
<br />
<!--begin::Card-->
<div class="card card-custom">
	<div class="card-header flex-wrap py-3">
		<div class="card-title">
			<h3 class="card-label">
				Dinamik Tablo Bilgi Sistemi
				<span class="d-block text-muted pt-2 font-size-sm">Detay</span>
			</h3>
		</div>
		<div class="card-toolbar">
			 
			 
			@{
				await Html.RenderPartialAsync("_PartialAuthorizeCreate");
			}
			@{
			// 	await Html.RenderPartialAsync("_PartialHaritaGenel", new AuthorizeCrudVM
			// {
			// 	ModulID = (int)ModulEnum.TableMetadata,
			// 	HaritaEkle = true
			// });

			}
		</div>
	</div>
	<div class="card-body">
		<!--begin: Datatable-->
		<table class="table table-bordered table-hover table-checkable" id="kt_datatable1">
			<thead>
				<tr>
					<th class="no-print" style="width:30px"></th>
					<th>Kayıt ID</th>
				@* 	<th>Eğitim Tarihi</th>
					<th>Eğitim Konusu</th>
					<th>Eğitim Türü</th>
					<th>Eğitmen</th>
					<th>Eğitim Verilen Kurum</th>
					<th>Kurum Türü</th> *@
					 
					 
					@* <th class="no-print">Dosya</th>
					<th class="no-print">Harita</th> *@
					<th class="no-print crudBtnRow">Düzenle</th>

				</tr>
			</thead>
			<tbody>
				@foreach (TableMetadataVM item in Model.TableMetadataVMListe)
				{
					<tr data-id="@item.ID" class="@(item.IsDelete ? "deleted" : "")">
						<td class="no-print"><input type="checkbox" class="form-control" /></td>
						<td>@item.ID</td>
						@* <td>@item.EgitimTarihi?.ToString("yyyy.MM.dd HH:mm")</td>
						<td>@item.EgitimKonusu</td>
						<td>@item.EgitimTuru</td>
						<td>@item.Egitmen</td>
						<td>@item.EgitimVerilenKurum</td>
						<td>@item.KurumTuru</td> *@
					 
						@{
							await Html.RenderPartialAsync("_PartialAuthorizeScript",
							new AuthorizeCrudVM { ID = item.ID, HaritaEkle = false, DosyaEkle = false, ModulID = (int)ModulEnum.TableMetadata });
						}
					</tr>
				}


			</tbody>
		</table>
		<!--end: Datatable-->
	</div>
</div>
<!--end::Card-->
@{
	//await Html.RenderPartialAsync("_PartialModalVeri");
	await Html.RenderPartialAsync("_PartialModal", new ModalSettings { ModalID = "ModalVeri", BodyID = "VeriAlan", Genislik = "lg" });
}

 
@{
	// await Html.RenderPartialAsync("_PartialModalDosya",
	// new AuthorizeCrudVM { Controller = "TableMetadata", HaritaEkle = false });
}
@section JSSection {

	<script src="~/assets1/plugins/custom/datatables/datatables.bundle.js?v=7.0.5"></script>
	<script src="~/assets1/js/pages/crud/datatables/extensions/buttonsCustom.js?v=7.0.5"></script>
	<script src="js/select2.js?v=7.0.5"></script>

	@{
		await Html.RenderPartialAsync("_PartialAuthorizeCrud",
		new AuthorizeCrudVM
				{
					Controller = "TableMetadata",
					ModulID = (int)ModulEnum.TableMetadata,
					DosyaYolu = "TableMetadata"
				});
	}
	@{
		await Html.RenderPartialAsync("_PartialDataTableScript");
	}
	
}



